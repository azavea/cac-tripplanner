{% extends "base.html" %}
{% load staticfiles %}
{% block content %}
    {% include "partials/header.html" %}

    <div class="the-map" id="map"></div>

    <form class="directions-form-element" action="" method="post">
        <div class="directions-form">
            <div class="mode-picker">
                <div class="mode-toggle">
                    <div class="walk mode-option on">
                        <i class="icon-walk"></i> <span class="mode-label">Walk</span>
                    </div>
                    <div class="bike mode-option">
                        <i class="icon-bike"></i> <span class="mode-label">Bike</span>
                    </div>
                    <input type="hidden" name="mode" value="walk">
                </div>
                <div class="transit mode-option on">
                    <i class="icon-transit-on"></i> <span class="mode-label">Transit</span>
                    <input type="hidden" name="transit" value="on">
                </div>
                <div class="btn-options" title="Route options">
                    <i class="icon-sliders"></i>
                </div>
            </div>
            <div class="directions-from directions-text-input">
                <label for="input-directions-from">from</label>
                <input type="text" id="input-directions-from" name="input-directions-from"
                    value="" placeholder="Enter a starting point"
                    class="typeahead" type="search" data-typeahead-key="origin">
                <button class="btn-geolocate" title="Detect current location" type="button"
                    name="geolocate"><i class="icon-geolocate"></i></button>
            </div>
            <div class="directions-to directions-text-input">
                <label for="input-directions-to">to</label>
                <input type="text" id="input-directions-to" name="input-directions-to" value=""
                    placeholder="Enter a destination — or choose one below"
                    class="typeahead" type="search" data-typeahead-key="destination">
                <button class="btn-reverse" title="Swap starting point and destination"
                    type="button" name="reverse"><i class="icon-reverse"></i></button>
            </div>
        </div>
    </form>

    <div class="sidebar-banner indego-banner">
        <div class="banner-message">Need wheels? Click <i class="icon-sliders"></i> for Indego bike sharing</div>
        <button title="Dismiss this message" name="close"
            class="btn-dismiss-sidebar-banner"><i class="icon-cancel"></i>
        </button>
    </div>

    <div class="places">
        <h1>Places we love</h1>
        <ul class="place-list">
            {% for destination in destinations %}
            <li class="place-card no-origin">
                <img class="place-card-photo"
                    {% if destination.image %}
                        src="{{ destination.wide_image.url }}"
                    {% else %}
                        src="https://placehold.it/400x400.jpg"
                    {% endif %}
                    width="400" height="200"
                    alt="{{ destination.name }}" />
                <h2>{{ destination.name }}</h2>
                <div class="place-card-travel-logistics">
                    <span class="place-card-travel-logistics-duration">N</span> min from <span class="place-card-travel-logistics-origin">origin</span>
                </div>
                <div class="place-card-actions">
                    <a class="place-card-action place-action-go"
                        data-destination-id="{{ destination.id }}" href="#">Go here</a>
                    <a class="place-card-action place-action-details"
                       href="{% url 'place-detail' pk=destination.pk %}">More info</a>
                </div>
            </li>
        {% endfor %}
        </ul>
    </div>

    {% if article %}
        {% include "partials/article-card.html" with show_link=True %}
    {% endif %}

    <div class="directions-results">
        <h1>Choose a route</h1>
        <div class="routes-list">
            <div class="route-summary">
                <svg class="route-summary-path" width="3" height="100%" xmlns="http://www.w3.org/2000/svg">
                    <line x1="50%" y1="6%" x2="50%" y2="94%" stroke-width="3" stroke="#e23331"></line>
                </svg>
                <div class="route-summary-details">
                    <div class="route-summary-primary-details">
                        <div class="route-duration">33 <span class="units">min</span></div>
                        <div class="route-distance">9.1 <span class="units">miles</span></div>
                        <div class="route-name">via N 10th St</div>
                    </div>
                    <div class="route-summary-secondary-details">
                        <div class="route-start-stop">3:14pm – 3:48pm</div>
                        <div class="route-modes"><i class="icon-transit"></i><i class="icon-walk"></i></div>
                    </div>
                </div>
            </div>
            <div class="route-summary">
                <svg class="route-summary-path" width="3" height="100%" xmlns="http://www.w3.org/2000/svg">
                    <line x1="50%" y1="6%" x2="50%" y2="94%" stroke-width="3" stroke="#5c99c6" stroke-dasharray="7, 7"></line>
                </svg>
                <div class="route-summary-details">
                    <div class="route-summary-primary-details">
                        <div class="route-duration">37 <span class="units">min</span></div>
                        <div class="route-distance">9.6 <span class="units">miles</span></div>
                        <div class="route-name">via N 8th St</div>
                    </div>
                    <div class="route-summary-secondary-details">
                        <div class="route-start-stop">3:23pm – 4:00pm</div>
                        <div class="route-modes"><i class="icon-transit"></i><i class="icon-walk"></i></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="directions-step-by-step">
        <header class="step-by-step-header">
            <button name="back-to-directions-results" class="back-to-directions-results"><i class="icon-left-big"></i></button>
            <h1>Directions</h1>
            <button name="share-directions" class="share-directions"><i class="icon-share"></i></button>
        </header>
        <div class="directions-list-of-steps">
            <div class="directions-leg directions-leg-origin">
                <div class="directions-step directions-step-origin">
                    <div class="directions-instruction">Depart 135 S 19th St</div>
                    <div class="directions-time">at 9:47a</div>
                </div>
            </div>
            <div class="directions-leg directions-leg-walk">
                <div class="directions-step directions-step-walk">
                    <div class="directions-instruction">Walk north on S 19th St</div>
                    <div class="directions-distance">78 feet</div>
                </div>
                <div class="directions-step directions-step-arrive">
                    <div class="directions-instruction">Arrive <strong>19th &amp; Moravian St</strong></div>
                </div>
            </div>
            <div class="directions-leg directions-leg-bus">
                <div class="directions-step directions-step-bus">
                    <div class="directions-instruction">Board SEPTA 17 (20th &amp; Johnston)</div>
                    <div class="directions-time">at 9:48a</div>
                    <div class="directions-distance">1.35 miles</div>
                </div>
                <div class="directions-step directions-step-disembark">
                    <div class="directions-instruction">Disembark <strong>19th St &amp; Tasker St</strong></div>
                </div>
            </div>
            <div class="directions-leg directions-leg-walk">
                <div class="directions-step directions-step-walk">
                    <div class="directions-instruction">Walk southeast on Tasker St</div>
                    <div class="directions-distance">98 feet</div>
                </div>
                <div class="directions-step directions-step-arrive">
                    <div class="directions-instruction">Arrive <strong>Tasker St &amp; 19th St</strong></div>
                </div>
            </div>
            <div class="directions-leg directions-leg-bus">
                <div class="directions-step directions-step-bus">
                    <div class="directions-instruction">Board SEPTA 1297 (33rd &amp; Dickinson)</div>
                    <div class="directions-time">at 10:00a</div>
                    <div class="directions-distance">0.8 miles</div>
                </div>
                <div class="directions-step directions-step-disembark">
                    <div class="directions-instruction">Disembark <strong>Tasker St &amp; 28th St</strong></div>
                </div>
            </div>
            <div class="directions-leg directions-leg-walk">
                <div class="directions-step directions-step-walk">
                    <div class="directions-instruction">Walk east on Tasker St</div>
                    <div class="directions-distance">105 feet</div>
                </div>
                <div class="directions-step directions-step-turn-left">
                    <div class="directions-instruction">Turn left on S Marston St</div>
                    <div class="directions-distance">0.13 miles</div>
                </div>
            </div>
            <div class="directions-leg directions-leg-destination">
                <div class="directions-step directions-step-destination">
                    <div class="directions-instruction">Arrive S Marston St &amp; Reed St</div>
                    <div class="directions-time">at 10:07a</div>
                </div>
            </div>
        </div>
    </div>


    <div class="modal-overlay">
        <div class="modal-panel modal-options">
            <header class="modal-header">
                Bike options
            </header>
            <ul class="modal-list modal-contents">
                <li class="modal-list-indego">Indego bike sharing</li>
                <li class="modal-list-timing">Arrive/depart at…</li>
                <li class="modal-list-ride">Ride quality</li>
            </ul>
            <footer class="modal-footer">
                <button name="close-modal" class="btn-close-modal">Close</button>
            </footer>
        </div>

        <div class="modal-panel modal-share">
            <header class="modal-header">
                <i class="icon-share"></i>
                Share
            </header>
            <ul class="modal-list modal-contents">
                <li class="modal-list-link">Get a link</li>
                <li class="modal-list-twitter">Twitter</li>
                <li class="modal-list-facebook">Facebook</li>
                <li class="modal-list-google">Google+</li>
                <li class="modal-list-email">Email</li>
            </ul>
            <footer class="modal-footer">
                <button name="close-modal" class="btn-close-modal">Close</button>
            </footer>
        </div>
    </div>

    {% include "partials/footer.html" %}
{% endblock %}

{%block jspage %}
<script type="text/javascript">
jQuery(document).ready(function ($) {
    CAC.Settings.fbAppId = '{{ fb_app_id }}';
    CAC.Settings.routingUrl = '{{ routing_url }}';
    var home = new CAC.Pages.Home();
    home.initialize();
});
</script>
{% endblock %}
